## 課題 4

あなたが Chrome の開発者になったとしましょう。Node.childNodes をどのように実装しますか？思いついた実装のメリットとデメリットをそれぞれあげてください。特にメモリ消費量への影響について考えてみましょう。

## 回答

実装方法:

- ノードオブジェクトに対してchildNodesをコールした時点でノードツリーをトラバースして子要素のリストを取得するのではなく、DOMツリーにノードの挿入・削除があったときに各ノードのchildNodesを計算し各ノードのプロパティとして持たせる
- 挿入・削除の対象となったノードより子要素のchildNodesだけを更新する

メリット:

- childNodesを呼んだ際の処理時間がO(1)になる

デメリット:

- 各ノードに対するchildNodesオブジェクトを作る必要があり、DOMツリーに含まれるノードの数をNとしたときO(N^2)のメモリを必要とする
- DOMツリーへのNodeの挿入・削除があったときの処理時間が増加する
